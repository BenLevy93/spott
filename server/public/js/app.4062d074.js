(function(t){function e(e){for(var r,o,u=e[0],s=e[1],c=e[2],l=0,p=[];l<u.length;l++)o=u[l],Object.prototype.hasOwnProperty.call(a,o)&&a[o]&&p.push(a[o][0]),a[o]=0;for(r in s)Object.prototype.hasOwnProperty.call(s,r)&&(t[r]=s[r]);d&&d(e);while(p.length)p.shift()();return i.push.apply(i,c||[]),n()}function n(){for(var t,e=0;e<i.length;e++){for(var n=i[e],r=!0,u=1;u<n.length;u++){var s=n[u];0!==a[s]&&(r=!1)}r&&(i.splice(e--,1),t=o(o.s=n[0]))}return t}var r={},a={app:0},i=[];function o(e){if(r[e])return r[e].exports;var n=r[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=t,o.c=r,o.d=function(t,e,n){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)o.d(n,r,function(e){return t[e]}.bind(null,r));return n},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/";var u=window["webpackJsonp"]=window["webpackJsonp"]||[],s=u.push.bind(u);u.push=e,u=u.slice();for(var c=0;c<u.length;c++)e(u[c]);var d=s;i.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"034f":function(t,e,n){"use strict";n("85ec")},1752:function(t,e,n){},"4ada":function(t,e,n){},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("2b0e"),a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("Navbar"),n("ProductList")],1)},i=[],o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("b-table",{attrs:{striped:"",hover:"",responsive:"sm",items:t.products,busy:t.isBusy,fields:t.fields},scopedSlots:t._u([{key:"cell(actions)",fn:function(e){return[n("b-icon",{staticClass:"ben123",attrs:{icon:"pencil"},on:{click:function(n){return t.info(e.item,e.index,n.target)}}})]}},{key:"table-busy",fn:function(){return[n("div",{staticClass:"text-center text-danger my-2"},[n("b-spinner",{staticClass:"align-middle"}),n("strong",[t._v("Loading...")])],1)]},proxy:!0}])}),n("b-modal",{ref:"modal",attrs:{id:t.infoModal.id,content:t.infoModal.content,title:"Edit product","ok-title":"Edit"},on:{ok:t.handleOk}},[n("form",{ref:"form",on:{submit:function(e){return e.stopPropagation(),e.preventDefault(),t.handleSubmit.apply(null,arguments)}}},[n("b-form-group",{attrs:{label:"Name","label-for":"name-input","invalid-feedback":"Name is required",state:t.nameState}},[n("b-form-input",{attrs:{id:"name-input",state:t.nameState,required:""},model:{value:t.editName,callback:function(e){t.editName=e},expression:"editName"}})],1),n("b-form-group",{attrs:{label:"Cost","label-for":"cost-input","invalid-feedback":"Must be greater than 0",state:t.costState}},[n("b-form-input",{attrs:{id:"cost-input",type:"number",state:t.costState,required:""},model:{value:t.editCost,callback:function(e){t.editCost=e},expression:"editCost"}})],1),n("b-form-group",{attrs:{label:"Shipment Cost","label-for":"ship-input","invalid-feedback":"Must be greater than 0",state:t.shipmentState}},[n("b-form-input",{attrs:{id:"ship-input",type:"number",state:t.shipmentState,required:""},model:{value:t.editShipment,callback:function(e){t.editShipment=e},expression:"editShipment"}})],1),n("b-form-group",{attrs:{label:"Advertisment Cost","label-for":"adv-input","invalid-feedback":"Must be greater than 0",state:t.advCostState}},[n("b-form-input",{attrs:{id:"adv-input",type:"number",state:t.advCostState,required:""},model:{value:t.editAdvCost,callback:function(e){t.editAdvCost=e},expression:"editAdvCost"}})],1),n("b-form-group",{attrs:{label:"Country","label-for":"country","invalid-feedback":"Counry is required",state:t.countryState}},[n("b-form-select",{attrs:{id:"country",options:t.countries,"value-field":"name","text-field":"name"},model:{value:t.editCountry,callback:function(e){t.editCountry=e},expression:"editCountry"}})],1)],1)])],1)},u=[],s=n("1da1"),c=(n("7db0"),n("96cf"),n("d4ec")),d=n("bee2"),l=n("bc3a"),p=n.n(l),f="",m=function(){function t(){Object(c["a"])(this,t)}return Object(d["a"])(t,null,[{key:"getProducts",value:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(){var e,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,p.a.get("".concat(f,"/products"));case 3:return e=t.sent,t.next=6,e.data;case 6:return n=t.sent,t.next=9,n;case 9:return t.abrupt("return",t.sent);case 12:return t.prev=12,t.t0=t["catch"](0),t.abrupt("return",t.t0);case 15:case"end":return t.stop()}}),t,null,[[0,12]])})));function e(){return t.apply(this,arguments)}return e}()},{key:"getCountries",value:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(){var e,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,p.a.get("".concat(f,"/countries"));case 3:return e=t.sent,t.next=6,e.data;case 6:return n=t.sent,t.next=9,n;case 9:return t.abrupt("return",t.sent);case 12:return t.prev=12,t.t0=t["catch"](0),t.abrupt("return",t.t0);case 15:case"end":return t.stop()}}),t,null,[[0,12]])})));function e(){return t.apply(this,arguments)}return e}()},{key:"updateProduct",value:function(t){return p.a.post("".concat(f,"/cogs"),{id:t.id,productName:t.productName,cogs:t.cogs})}}]),t}(),b=m,h={name:"ProductList",data:function(){return{isBusy:!1,fields:[{key:"id"},{key:"productName"},{key:"cogs.unitManufacturingCost",label:"Manufacturing Cost"},{key:"cogs.shipmentUnitCost",label:"Shipment Unit Cost"},{key:"cogs.monthlyAdvertismentCost",label:"Monthly Advertisment Cost"},{key:"cogs.manufacturingCountry",label:"Manufacturing Country"},{key:"actions"}],infoModal:{id:"info-modal",title:"",content:""},editName:"",editCost:"",editShipment:"",editAdvCost:"",editCountry:"",submittedNames:[],showDialog:!1,products:[],countries:[],loading:!1,error:""}},created:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,t.isBusy=!0,e.next=4,b.getProducts();case 4:return t.products=e.sent,e.next=7,b.getCountries();case 7:t.countries=e.sent,t.products.length&&t.countries.length&&(t.isBusy=!1),e.next=14;break;case 11:e.prev=11,e.t0=e["catch"](0),t.error=e.t0.message;case 14:case"end":return e.stop()}}),e,null,[[0,11]])})))()},computed:{nameState:function(){return this.editName.length>2},advCostState:function(){return this.editAdvCost>=0},shipmentState:function(){return this.editShipment>=0},costState:function(){return this.editCost>=0},countryState:function(){return""!==this.editCountry}},methods:{checkFormValidity:function(){return this.nameState&&this.advCostState&&this.costState&&this.shipmentState&&this.countryState},handleOk:function(t){t.preventDefault(),this.handleSubmit()},handleSubmit:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.checkFormValidity()){e.next=2;break}return e.abrupt("return");case 2:return n={id:t.editProductId,productName:t.editName,cogs:{unitManufacturingCost:t.editCost,shipmentUnitCost:t.editShipment,monthlyAdvertismentCost:t.editAdvCost,manufacturingCountry:t.editCountry}},e.next=5,b.updateProduct(n);case 5:r=t.products.find((function(t){return t.id===n.id})),r.productName=n.productName,r.cogs=n.cogs,console.log(n),t.$nextTick((function(){t.$bvModal.hide(t.infoModal.id)}));case 10:case"end":return e.stop()}}),e)})))()},info:function(t,e,n){this.infoModal.title=t.productName,this.infoModal.content=t,this.editProductId=t.id,this.editName=t.productName,this.editCost=t.cogs.unitManufacturingCost,this.editShipment=t.cogs.shipmentUnitCost,this.editAdvCost=t.cogs.monthlyAdvertismentCost,this.editCountry=t.cogs.manufacturingCountry,this.$root.$emit("bv::show::modal",this.infoModal.id,n)}}},v=h,g=(n("e76f"),n("2877")),y=Object(g["a"])(v,o,u,!1,null,"637d65dd",null),C=y.exports,k=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"nav-container"},[n("b-navbar",{attrs:{toggleable:"sm",type:"light",variant:"light"}},[n("b-navbar-toggle",{attrs:{target:"nav-text-collapse"}}),n("b-navbar-brand",{staticClass:"main-title"},[t._v("Spott")]),n("b-collapse",{attrs:{id:"nav-text-collapse","is-nav":""}},[n("b-navbar-nav",[n("b-nav-text",{staticClass:"sub-title"},[t._v("Manage Products")])],1)],1)],1)],1)},x=[],S=(n("8196"),{}),w=Object(g["a"])(S,k,x,!1,null,"0ae47ff8",null),M=w.exports,O={name:"App",components:{ProductList:C,Navbar:M}},N=O,j=(n("034f"),Object(g["a"])(N,a,i,!1,null,null,null)),P=j.exports,_=n("5f5b"),A=n("b1e0");n("f9e3"),n("2dd8");r["default"].use(_["a"]),r["default"].use(A["a"]),r["default"].config.productionTip=!1,new r["default"]({render:function(t){return t(P)}}).$mount("#app")},8196:function(t,e,n){"use strict";n("4ada")},"85ec":function(t,e,n){},e76f:function(t,e,n){"use strict";n("1752")}});
//# sourceMappingURL=app.4062d074.js.map